<!DOCTYPE html>
<html lang="ru">
<html>
<head>
<meta charset="utf-8">
<title>Опрос</title>
</head>
<body>

<h2>Вопрос {{ question.id }}</h2>
<p>Выберите один из вариантов ответа:</p>

<h2>{{ question.question_wording }}</h2>
<form>
    {% csrf_token %}
    {% for answer in answers %}
        <input type="radio" name="answer" value="{{ answer.next_question.id }}"> {{ answer.text }}<br>
    {% endfor %}
    <button onclick="redirect(event)">Ответить</button>
</form>

<script>
    function redirect(event) {
        event.preventDefault();
        var selectedAnswer = document.querySelector('input[name="answer"]:checked').value;
        if ("{{ question.solution }}" !== "None") {
            var url = window.location.href.split('/').slice(0, -2).join('/') + "/" + selectedAnswer + "/";
            window.location.href = url;
        } else {
            alert("Ответ на данный вопрос недоступен");
        }
    }
</script>



</body>
</html>
